# The following resources where utilised to create the config file and naming schemes:
# https://en.wikichip.org/wiki/cavium/microarchitectures/vulcan

Core:
  ISA: AArch64
  Simulation-Mode: outoforder
  Clock-Frequency-GHz: 3.4
  Timer-Frequency-MHz: 200
  Micro-Operations: True
  Vector-Length: 128
Fetch:
  Fetch-Block-Size: 32
  Loop-Buffer-Size: 64
  Loop-Detection-Threshold: 4
Process-Image:
  Heap-Size: 1073741824
  Stack-Size: 1048576
Register-Set:
  GeneralPurpose-Count: 180
  FloatingPoint/SVE-Count: 160
  Predicate-Count: 48
  Conditional-Count: 80
Pipeline-Widths:
  Commit: 8
  FrontEnd: 8
  LSQ-Completion: 3
Queue-Sizes:
  ROB: 320
  Load: 80
  Store: 80
Branch-Predictor:
  Type: "Perceptron"
  BTB-Tag-Bits: 11
  Global-History-Length: 19
  RAS-entries: 8
L1-Data-Memory:
  Interface-Type: Fixed
L1-Instruction-Memory:
  Interface-Type: Flat
LSQ-L1-Interface:
  Access-Latency: 4
  Exclusive: False
  Load-Bandwidth: 48
  Store-Bandwidth: 32
  Permitted-Requests-Per-Cycle: 3
  Permitted-Loads-Per-Cycle: 3
  Permitted-Stores-Per-Cycle: 2
Ports:
  0:
    Portname: B0
    Instruction-Group-Support:
    - BRANCH
  1:
    Portname: B1
    Instruction-Group-Support:
    - BRANCH
  2:
    Portname: SX0
    Instruction-Group-Support:
    - INT_SIMPLE_ARTH_NOSHIFT
    - INT_SIMPLE_LOGICAL
    - INT_SIMPLE_CMP
  3:
    Portname: SX1
    Instruction-Group-Support:
    - INT_SIMPLE_ARTH_NOSHIFT
    - INT_SIMPLE_LOGICAL
    - INT_SIMPLE_CMP
  4:
    Portname: SX2
    Instruction-Group-Support:
    - INT_SIMPLE_ARTH_NOSHIFT
    - INT_SIMPLE_LOGICAL
  5:
    Portname: SX3
    Instruction-Group-Support:
    - INT_SIMPLE_ARTH_NOSHIFT
    - INT_SIMPLE_LOGICAL
  6:
    Portname: MX0
    Instruction-Group-Support:
    - INT_SIMPLE_ARTH
    - INT_SIMPLE_LOGICAL
    - INT_SIMPLE_CMP
    - INT_MUL
    - INT_DIV_OR_SQRT
    - PREDICATE
  7:
    Portname: MX1
    Instruction-Group-Support:
    - INT_SIMPLE_ARTH
    - INT_SIMPLE_LOGICAL
    - INT_SIMPLE_CMP
    - INT_MUL
    - PREDICATE
  8:
    Portname: LS0
    Instruction-Group-Support:
    - LOAD
    - STORE_ADDRESS
  9:
    Portname: LS1
    Instruction-Group-Support:
    - LOAD
    - STORE_ADDRESS
  10:
    Portname: LD
    Instruction-Group-Support:
    - LOAD
  11:
    Portname: SD0
    Instruction-Group-Support:
    - STORE_DATA_INT
  12:
    Portname: SD1
    Instruction-Group-Support:
    - STORE_DATA_INT
  13:
    Portname: VX0
    Instruction-Group-Support:
    - SVE_SIMPLE_ARTH
    - SVE_SIMPLE_LOGICAL
    - SVE_SIMPLE_CMP
    - SVE_SIMPLE_CVT
    - SVE_MUL
    - SVE_DIV_OR_SQRT
    - FP_SIMPLE_ARTH
    - FP_SIMPLE_LOGICAL
    - FP_SIMPLE_CMP
    - FP_SIMPLE_CVT
    - FP_MUL
    - FP_DIV_OR_SQRT
    - INT_SIMPLE_CVT
    - STORE_DATA_SCALAR
    - STORE_DATA_VECTOR
    - STORE_DATA_SVE
  14:
    Portname: VX1
    Instruction-Group-Support:
    - SVE_SIMPLE_ARTH
    - SVE_SIMPLE_LOGICAL
    - SVE_SIMPLE_CMP
    - SVE_MUL
    - FP_SIMPLE_ARTH
    - FP_SIMPLE_LOGICAL
    - FP_MUL
    - VECTOR_SIMPLE_CMP
    - SCALAR_SIMPLE_CVT
    - INT_SIMPLE_CVT
    - STORE_DATA_SCALAR
    - STORE_DATA_VECTOR
    - STORE_DATA_SVE
  15:
    Portname: VX2
    Instruction-Group-Support:
    - SVE_SIMPLE_ARTH
    - SVE_SIMPLE_LOGICAL
    - SVE_SIMPLE_CMP
    - SVE_SIMPLE_CVT
    - SVE_MUL
    - SVE_DIV_OR_SQRT
    - FP_SIMPLE_ARTH
    - FP_SIMPLE_LOGICAL
    - FP_MUL
    - FP_DIV_OR_SQRT
    - VECTOR_SIMPLE_CMP
    - VECTOR_SIMPLE_CVT
  16:
    Portname: VX3
    Instruction-Group-Support:
    - SVE_SIMPLE_ARTH
    - SVE_SIMPLE_LOGICAL
    - SVE_SIMPLE_CMP
    - SVE_MUL
    - FP_SIMPLE_ARTH
    - FP_SIMPLE_LOGICAL
    - FP_MUL
    - VECTOR_SIMPLE_CMP
Reservation-Stations:
  # Configurations and dispatch rates influenced by the following resources:
  # - Neoverse V2 Core Software Optimisation Guide version 3.0 (page 55)
  # - https://i0.wp.com/chipsandcheese.com/wp-content/uploads/2023/09/neoverse_v2.drawio-1.jpg?ssl=1
  # - https://hc2023.hotchips.org/assets/program/conference/day1/CPU1/HC2023.Arm.MagnusBruce.v04.FINAL.pdf
  0:
    Size: 22
    Dispatch-Rate: 2
    Ports:
    - B0
    - SX0
  1:
    Size: 22
    Dispatch-Rate: 2
    Ports:
    - B1
    - SX1
  2:
    Size: 22
    Dispatch-Rate: 2
    Ports:
    - MX0
  3:
    Size: 22
    Dispatch-Rate: 2
    Ports:
    - MX1
  4:
    Size: 22
    Dispatch-Rate: 1
    Ports:
    - SX2
  5:
    Size: 22
    Dispatch-Rate: 1
    Ports:
    - SX3
  6:
    Size: 28
    Dispatch-Rate: 4
    Ports:
    - VX0
    - VX1
  7:
    Size: 28
    Dispatch-Rate: 2
    Ports:
    - VX2
    - VX3
  8:
    Size: 16
    Dispatch-Rate: 2
    Ports:
    - LS0
    - SD0
  9:
    Size: 16
    Dispatch-Rate: 2
    Ports:
    - LS1
    - SD1
  10:
    Size: 16
    Dispatch-Rate: 2
    Ports:
    - LD
Execution-Units:
  0:
    Pipelined: True
  1:
    Pipelined: True
  2:
    Pipelined: True
  3:
    Pipelined: True
  4:
    Pipelined: True
  5:
    Pipelined: True
  6:
    Pipelined: True
  7:
    Pipelined: True
  8:
    Pipelined: True
  9:
    Pipelined: True
  10:
    Pipelined: True
  11:
    Pipelined: True
  12:
    Pipelined: True
  13:
    Pipelined: True
  14:
    Pipelined: True
  15:
    Pipelined: True
  16:
    Pipelined: True
Latencies:
  0:
    Instruction-Groups: 
    - INT_SIMPLE_ARTH
    - FP_SIMPLE_ARTH
    - SVE_SIMPLE_ARTH
    - FP_SIMPLE_LOGICAL
    - SVE_SIMPLE_LOGICAL
    - FP_SIMPLE_CMP
    - SVE_SIMPLE_CMP
    - LOAD_SCALAR
    - LOAD_VECTOR
    - LOAD_SVE
    - PREDICATE
    - INT_MUL
    Execution-Latency: 2
    Execution-Throughput: 1
  1:
    Instruction-Groups: 
    - INT_SIMPLE_ARTH_NOSHIFT
    - INT_SIMPLE_LOGICAL
    - INT_SIMPLE_CMP
    Execution-Latency: 1
    Execution-Throughput: 1
  2:
    Instruction-Groups: 
    - INT_SIMPLE_CVT
    - FP_SIMPLE_CVT
    - FP_MUL
    - SVE_SIMPLE_CVT
    - SVE_MUL
    Execution-Latency: 3
    Execution-Throughput: 1
  3:
    Instruction-Groups: 
    - INT_DIV_OR_SQRT 
    Execution-Latency: 20
    Execution-Throughput: 20
  4:
    Instruction-Groups: 
    - FP_DIV_OR_SQRT
    Execution-Latency: 10
    Execution-Throughput: 7
  6:
    Instruction-Groups: 
    - SVE_DIV_OR_SQRT
    Execution-Latency: 10
    Execution-Throughput: 7

# CPU-Info mainly used to generate a replica of the special (or system) file directory 
# structure
CPU-Info:
  # Set Generate-Special-Dir to True to generate the special files directory, or to False to not.
  # (Not generating the special files directory may require the user to copy over files manually)
  Generate-Special-Dir: True
  # Core-Count MUST be 1 as multi-core is not supported at this time.
  Core-Count: 1
  # Socket-Count MUST be 1 as multi-socket simulations are not supported at this time.
  Socket-Count: 1
  # SMT MUST be 1 as Simultanious-Multi-Threading is not supported at this time.
  SMT: 1
  # Below are the values needed to generate /proc/cpuinfo
  BogoMIPS: 2000.00
  Features: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm jscvt fcma lrcpc dcpop sha3 sm3 sm4 asimddp sha512 sve asimdfhm dit uscat ilrcpc flagm ssbs sb paca pacg dcpodp sve2 sveaes svepmull svebitperm svesha3 svesm4 flagm2 frint svei8mm svebf16 i8mm bf16 dgh bti
  CPU-Implementer: "0x41"
  CPU-Architecture: 8
  CPU-Variant: "0x0"
  CPU-Part: "0xd4f"
  CPU-Revision: 0
  # Package-Count is used to generate 
  # /sys/devices/system/cpu/cpu{0..Core-Count}/topology/{physical_package_id, core_id}
  Package-Count: 1