

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Instructions &mdash; SimEng  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Registers" href="registers.html" />
    <link rel="prev" title="Simulation Concepts" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SimEng
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developerInfo.html">Developer information</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Simulation Concepts</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Instructions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lifecycle">Lifecycle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#post-decode">Post-Decode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ready-to-execute">Ready to execute</a></li>
<li class="toctree-l4"><a class="reference internal" href="#address-generation">Address generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#store-data">Store data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#executed">Executed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#macro-ops">Macro-Ops</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="registers.html">Registers</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="syscalls.html">System Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel.html">Kernel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../components/index.html">Simulation Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../test/index.html">Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/building_simeng.html">Building SimEng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/running_simeng.html">Running SimEng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/configuring_simeng.html">Configuring SimEng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/creating_binaries.html">Creating Binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/docker.html">Docker</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SimEng</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Simulation Concepts</a> &raquo;</li>
        
      <li>Instructions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/developer/concepts/instructions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="instructions">
<span id="id1"></span><h1>Instructions<a class="headerlink" href="#instructions" title="Permalink to this headline">¶</a></h1>
<p>An instruction represents a discrete operation that a processor may perform. Instructions are independent objects that have no direct access to registers/memory and must be supplied values to operate on by the model.</p>
<div class="section" id="lifecycle">
<h2>Lifecycle<a class="headerlink" href="#lifecycle" title="Permalink to this headline">¶</a></h2>
<p>To permit instructions to function independently of the type of model they exist within, the lifetime of each instruction is broken down into a sequence of stages.</p>
<div class="section" id="post-decode">
<h3>Post-Decode<a class="headerlink" href="#post-decode" title="Permalink to this headline">¶</a></h3>
<p>This is the initial step of an instruction. At this stage, the instruction has been fully decoded and is now capable of advertising the registers it reads and writes, as well as various metadata such as whether it’s a load, store, or branch. The instruction is also allocated an architecture-specific group and, when appropriate, a set of execution ports that it can flow through. The set of ports available in the model is defined by the user through <a class="reference internal" href="../../user/configuring_simeng.html#execution-ports"><span class="std std-ref">configuration options</span></a>.</p>
<p>The model can use this information to supply the instruction with the appropriate values for each source operand and determine where the instruction should be sent for processing.</p>
<div class="section" id="instruction-group">
<span id="id2"></span><h4>Instruction group<a class="headerlink" href="#instruction-group" title="Permalink to this headline">¶</a></h4>
<p>An instruction group is architecture-dependent. An <code class="docutils literal"><span class="pre">InstructionGroups</span></code> namespace is used to define the set of instruction groups available in an enum style. It is assumed that the user and developer have prior knowledge of the available groups, therefore, any configuration options or architecture-specific code should refer to the <code class="docutils literal"><span class="pre">InstructionGroups</span></code> namespace defined.</p>
</div>
</div>
<div class="section" id="ready-to-execute">
<h3>Ready to execute<a class="headerlink" href="#ready-to-execute" title="Permalink to this headline">¶</a></h3>
<p>Once an instruction has received all of the necessary input values, it becomes ready to execute. At this stage, the model may request that the instruction generates addresses (loads and stores only) or that it executes.</p>
</div>
<div class="section" id="address-generation">
<h3>Address generation<a class="headerlink" href="#address-generation" title="Permalink to this headline">¶</a></h3>
<p>(Loads and stores only).</p>
<p>If an instruction has reported itself as a load or store, once ready to execute it will be instructed to generate the set of addresses it will access. While stores may execute immediately, loads are considered pending until the model supplies a corresponding piece of data for each generated address, and may only execute once all data is available.</p>
</div>
<div class="section" id="store-data">
<h3>Store data<a class="headerlink" href="#store-data" title="Permalink to this headline">¶</a></h3>
<p>(Stores only).</p>
<p>In addition to generating addresses when a store is executed, it will pass the to-be stored data to the <code class="docutils literal"><span class="pre">LoadStoreQueue</span></code> unit for use when the store instruction retires and the memory write request is sent off to the memory interface.</p>
</div>
<div class="section" id="executed">
<h3>Executed<a class="headerlink" href="#executed" title="Permalink to this headline">¶</a></h3>
<p>Executing an instruction performs the relevant operation using the input values, and makes the results available to the model, along with the registers these results should be written to. As instructions have no access to memory, the execution step for stores is expected to produce a corresponding piece of data to write to each address generated, using the input values supplied; these address/data pairs are presented to the model for writing to memory. For branches, the calculated address will also be available.</p>
</div>
</div>
<div class="section" id="macro-ops">
<span id="macroops"></span><h2>Macro-Ops<a class="headerlink" href="#macro-ops" title="Permalink to this headline">¶</a></h2>
<p>A SimEng instruction represents what are typically referred to as “micro-ops” (also known as µops or uops): a single conceptual hardware operation. To support more complex instruction sets where individual instructions perform multiple operations, some SimEng components deal with “macro-ops”, which are conceptual objects that may be split into a stream of SimEng <code class="docutils literal"><span class="pre">Instruction</span></code> objects. As a result, individual machine-code instructions may become multiple SimEng <code class="docutils literal"><span class="pre">Instruction</span></code> objects when processed.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="registers.html" class="btn btn-neutral float-right" title="Registers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Simulation Concepts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, SimEng developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>